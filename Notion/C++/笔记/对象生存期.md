### 栈
基于栈的变量，在离开作用域后被释放销毁；
**栈分配方式：栈顶指针移动，返回当前地址。**
效率很高。

### 堆
基于堆的内存，在程序终止时被销毁。
堆分配方式：底层调用malloc，会调用更底层的操作系统指令，在空闲列表中寻找空闲内存 

应尽量在栈上分配内存，因为巨大的性能差异。除非无法在栈上分配，如数据过大，或堆生存期有有特殊要求。
如：以下的错误方式
![[images/Pasted image 20240527102157.png]]
 这个特性的正面作用：智能指针，作用域指针。
### 作用域指针（类） unique_ptr
离开作用域自动删除对象
效果类似于[[智能指针]]
![[images/Pasted image 20240527102644.png]]

