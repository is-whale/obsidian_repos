---
上次编辑时间: 2023-10-07T15:19
上次编辑者: Blue Whale
会议时间: 2023-07-24
会议类型: 晨会
---
  

提供厂商：地平线（主流），新石器，黑芝麻（现阶段较差）

英伟达生态链完善

1. 具身智能

轻量型具身智能 云处理，段执行 （最快）

李飞飞团队

google 端到端 超大模型、数据 （效果最好） langage modern

cloud API 可用于快速开发 可以内部自建云端资源

  

### 规划控制技术（6种）

1.全局规划 （较简单）

行为规划：状态机实现，决定车辆运动状态

Motion planner 居于局部地图生成可行驶的trajectory —-路径基础加线速度

1.局部路径规划

2.速度规划

路径跟随： 简单方法使用PP,高级方法使用MPC。MPC与机械强绑定，当车体不确定型号时使用PP

截取部分全局地图形成局部地图，再根据传感器信息完善信息。局部规划中栅格图地图会更加精细

机器人会在

**局部规划最为重要**

## 路径+速度 VS 轨迹

本质区别在于对动态障碍物能否准确预测

  

速度规划 根据其他物体运动规划速度 速度规划精度依赖于精确的障碍预测

路径规划 根据瞬时静态状态预测路径

  

运动预测 ACC 室内导航，绕开了对行人的预测，合理的阈值范围内的运动都和合法

障碍预测 - 卡尔曼滤波得到运动朝向

路径规划 是一个多目标优化问题（需要大量调试的数学原理）

运动平滑 指标为jerk

工程方案：拟合成带有权重的单目标优化（权重需要根据不要场景去优化）

**控制维度增加为导致复杂性指数级增加。**

## 经典路径规划方法

1.轨道有限模式下的避障

基于路网下已有轨道，对临时障碍物选择固定的方式去避让

优点：非常稳定，结果可预知

缺点：通过性较差

2.参考线曲线拟合

优点：计算简单，适合结构化道路导航

缺点：部分场景会被曲线的约束漏掉，复杂情况可能无解

3.在运动空间离散采样后搜索最优路径

自动泊车 必用 Hybrid A* 算法 优点：离散条件下最优；缺点：计算代价较大，随着维度指数增长

2D 实时；2.5D（加朝向） 延时

sample-based RRT PRM 优点：计算代价可控 缺点：难支持运动学约束

工程上两者融合

1. 在行动空间离散采样后搜索最优路径

典型算法：lattce planning 和TEB 有参数不稳定的缺点（多目标优化）L3自动驾驶早期方法

5.在连续空间求解最优路径

连续控空间优化先转变为凸优化问题（降低计算难度），然后再得到优化规划

EM planner Piecewise jerk

后者做了非常复杂的状态机约束， 对不同场景生产参考线

6.基于参考线的连续空间求解最优路径

用经典路径规划方法或者深度学习，侧重通过性，再用连续空间优化得到平滑后的轨迹

参考线优化较好的情况，其他指标性能可以写死

优点：根据调整参考线更直观，简洁。基于参考线，优化部分参数可以调整稳定

## 深度学习路径规划

会有经典方法兜底

1.监督学学习

规划 数学本质 MDP 不具备独立同分布性质，微小差异会导致结果差异放大

1. 在线强化学习路径规划（成本低）
2. 离线强化学习 （依赖数据集质量，不挑数据，可以训练出较大的模型，暂未落地）
3. 具身智能强化学习

  

### A* 调试

使用松弛约束得到不同的启发式函数，再将所有启发式函数取max，作为最终启发式函数

也是调试重点，再demo中有一个启发式函数。

A*的工程方式和理论方式不一致

### Hybrid A*

原始开源版本太烂了，要使用优化版本

状态参数（x,y,角度，r）角度为车头朝向，r为挡位

### k-nearest

RRT 均匀撒点

FastBKRRT（轨迹不平滑，可用于生产参考线）

PTG方法可以降低维度，使用传统方法

离散 最优路径

DWA 机器人

导航性能对代价地图的参数非常敏感 线速度角速度离散采样

无法达到平稳

TEB （了解）

调整参考线，根据参考线优化

1.修改参考线

2.熟读源码

1. 调参

- Lattice planner （了解） 生成参考线

车道线概念，处理使用frent算法

  

- EM planner 场景非常复杂的情况

连续性规划，一定可以规划出存在的路线

  

**参考线保证通过性**

基于参考线约束的最优化导航框架

## 读源码

TEB

lattice planner（离散采样）

Hybrid A*

（极复杂场景）

EM planner

### 坐标

**frent坐标系**

## 深度学习方法

BEV方法

END2END MID2MID

online RL 小车导航

  

blicp 模型下载

大模型LLM+室内导航

## 问题反馈

  

2.Teb算法的path，其他节点订阅path发布速cmd_vel

参考线 **优化参考线（path**） 调整权重，平滑度 稳定后不变

TEB → **path**→tranjecty→**purpsuit**→输出cmd_vel

A*全局

通过性不保证 穿过障碍物footprint

局部地图A* 使用障碍物信息修正参考线

调整好参考线之后的参数后，局部规划可以作为黑盒使用，不用再修改参数。

footprint 膨胀层 首先单个格子的误差，然后提高。太高的膨胀层会导致通过性降低

全局地图，局部地图的参数调整规则。

停止速度规划的方法（插件&速度赋为0&重命名话题名）

  

PP

TTC

1.teb marker 是否是绿色的跑道型轮廓，影响

3.teb轮廓约束方法，规划出不可能的行走路线

4.多次转向，频繁启停

5.无法更新代价地图或者延时、丢失

6.到达目标附近多次规划，前后规划，关于容忍度的值设置

7.carla的环境模型，使用流程